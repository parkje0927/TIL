- CDN(Content Delivery Network) 에 대해 설명해주세요.
```
콘텐츠를 효율적으로 전달하기 위해 여러 노드를 가진 네트워크에 데이터를 저장하여 제공하는 시스템을 말한다. 
즉, 지리적으로 분산된 여러 개의 서버를 말하며, 웹 콘텐츠를 사용자와 가까운 곳에서 전송함으로써 전송 속도를 높인다. 전 세계 데이터센터는 파일 복사본을 임시로 저장하는 프로세스인 캐싱을 사용한다. 따라서 사용자는 가까운 서버를 통해 웹 활성화 디바이스 또는 브라우저에서 인터넷 콘텐츠에 빠르게 접속할 수 있다. CDN 은 웹 페이지, 이미지, 비디오 등의 콘텐츠를 사용자의 물리적 위치와 가까운 프록시 서버에 캐싱한다. 이렇게 하면 콘텐츠가 로딩될 때까지 기다릴 필요 없이 작업을 할 수 있다.
```

- 트래픽이 많아지면 어떻게 되는지, 어떻게 대처해야 하는지 설명해주세요.(예측되는 현상 및 해결 방향)
```
예상과 달리 많은 사람들이 들어와서 트래픽이 많아진다면 서버가 느려지고 나중에는 멈춰버리는 상황에 처할 수 있다. 이를 해결하는 방법은 크게 2가지가 있다. 

1. 현재 서버를 upgrade 하는 Scale-Up
더 좋은 CPU, 더 많은 RAM 등을 통해 단순히 서버의 처리 능력을 좋게 만들어 트래픽을 서버가 처리할 수 있도록 만드는 방법이다. 하지만 증가 대비 비용이 많이 비싸서 한계가 있다. 

2. 서버를 여러 개로 만드는 Scale-Out
Scale-Up 보다는 경제적이지만 메모리를 공유하지 않는다는 점에서 로그인 관련 세션 쿠키가 공유되지 못하거나 DB 데이터 불일치 등의 문제가 발생할 수 있다. 이런 문제를 데이터 정합성 문제라고 한다.

이를 해결하는 방법으로는 먼저, Sticky Session 즉 말 그대로 고정된 세션 방법이 있다. 각 웹 서버에 유저들을 전담시킨다고 보면 된다. A 가 1번 웹 서버에서 로그인을 하면 앞으로도 1번 웹 서버에서 담당하도록 Load Balancer 가 들어온 요청의 쿠키를 확인하고 해당하는 웹 서버에게 전달하는 방식이다. 이를 통해 정합성 문제는 해결할 수 있지만 특정 서버에 트래픽이 집중될 수 있는 단점을 가진다. 즉, 트래픽 분산이 잘 되지 않으며 한 서버가 예기치 않게 중단되었을 때 해당 세션이 날아가는 끔찍한 상황이 발생할 수 있다.

다른 방법으로는 Session Clustering 이 있다. 이는 여러 대의 컴퓨터가 하나의 시스템처럼 작동하도록 만드는 것을 말한다. 대표적으로 Tomcat 의 DeltaManager 를 사용한 all-to-all Session Replication 이 있다. 이는 모든 서버가 세션 저장소를 전부 똑같이 복제해서 가지고 있는 것을 말한다. 이 방법은 정합성 문제도 해결할 수 있으며, 한 서버가 예기치 않게 중단되었을 때에도 세션을 보존할 수 있게 된다. 하지만 많은 메모리가 필요하고 세션값이 추가 또는 변경될 때 마다 모든 서버값을 변경해야 하므로 서버 수에 비례하여 네트워크 트래픽이 증가하게 된다. 따라서 전반적인 성능 저하로 이어지기 때문에 적합하지 않다.

primary-secondary Session Replication
각 세션별로 primary 서버와 secondary 서버를 지정함으로써 메모리 문제를 해결하고자 했다. 
primary 서버 : 세선 저장
secondary 서버 : 세션 복제본 저장
나머지 서버 : JSESSION ID 만 저장

세션 스토리지 분리
세션 저장소를 각 서버에 두는 게 아니라 따로 분리하여 하나로 통합하는 방식이다. 따로 세션을 위한 데이터베이스를 만들어서 이를 참조하는 방식을 말한다. 여기서 디스크 기반의 데이터베이스는, 디스크에 저장을 해서 영구적으로 보관 가능하나 I/O 가 느린 단점이 있고, 인메모리 방식은 I/O 에 대한 부담이 적고 속도는 빠르지만 휘발성인 단점이 있다. 
```